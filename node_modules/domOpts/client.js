var domOpts = {};
domOpts.params = (function(){
    console.log('DOM OPTS ARE READY')
    var params = {};
    if (location.search) {
        var parts = location.search.substring(1).split('&');
        for (var i = 0; i < parts.length; i++) {
            var nv = parts[i].split('=');
            if (!nv[0]) continue;
            params[nv[0]] = nv[1] || true;
        }
    }
    return params;
})();

module.exports =  domOpts;

// dom operations:
HTMLElement.prototype.domAddClass = function(addClasses){
    var newClasses = addClasses.split(' '),
        currentClasses = this.getAttribute('class').split(' '), i,idx;
    for (i = 0; i < newClasses.length; i++) {
        idx = currentClasses.indexOf(newClasses[i]);
        if(idx == -1){
            this.setAttribute('class',this.getAttribute('class')+' '+newClasses[i]);
        }
    }
    return this;
}
HTMLElement.prototype.domRemoveClass = function(removeableClasses){
    var removeClasses = removeableClasses.split(' '),
        currentClasses = this.getAttribute('class').split(' '),i,idx;
    for (i = 0; i < removeClasses.length; i++) {
        idx = currentClasses.indexOf(removeClasses[i]);
        while(idx >=0 ){
            currentClasses = currentClasses.slice(0,idx).concat(currentClasses.slice(idx+1,currentClasses.length-1))
            idx = currentClasses.indexOf(removeClasses[i]);
        }
    }
    this.setAttribute('class',currentClasses.join(' '));
    return this;
}
